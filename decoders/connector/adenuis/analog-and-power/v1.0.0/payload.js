function Buffer(e,t){return fromHexString(e)}function fromHexString(e){const t=e.match(/.{1,2}/g);return t?new Uint8Array(t.map(function(e){return parseInt(e,16)})):new Uint8Array}!function(e){const t=1e5;function r(e){switch(typeof e){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return null===e?"null":"object"}}function n(e){return Object.prototype.toString.call(e).replace(/^\[object *|\]$/g,"")}function o(e){return"function"==typeof e}function i(e){if(null==e)throw TypeError();return Object(e)}function a(e){return e>>0}function c(e){return e>>>0}const{LN2:s}=Math,{abs:u}=Math,{floor:f}=Math,{log:l}=Math,{max:p}=Math,{min:h}=Math,{pow:y}=Math,{round:d}=Math;function g(e,t){const r=32-t;return e<<r>>r}function b(e,t){const r=32-t;return e<<r>>>r}function E(e){return[255&e]}function v(e){return g(e[0],8)}function m(e){return[255&e]}function T(e){return b(e[0],8)}function P(e){return[(e=d(Number(e)))<0?0:e>255?255:255&e]}function O(e){return[255&e,e>>8&255]}function _(e){return g(e[1]<<8|e[0],16)}function w(e){return[255&e,e>>8&255]}function A(e){return b(e[1]<<8|e[0],16)}function j(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function I(e){return g(e[3]<<24|e[2]<<16|e[1]<<8|e[0],32)}function B(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function S(e){return b(e[3]<<24|e[2]<<16|e[1]<<8|e[0],32)}function x(e,t,r){const n=(1<<t-1)-1;function o(e){const t=f(e),r=e-t;return r<.5?t:r>.5?t+1:t%2?t+1:t}let i,a,c;if(e!=e)a=(1<<t)-1,c=y(2,r-1),i=0;else if(e===1/0||e===-1/0)a=(1<<t)-1,c=0,i=e<0?1:0;else if(0===e)a=0,c=0,i=1/e==-1/0?1:0;else if(i=e<0,(e=u(e))>=y(2,1-n)){a=h(f(l(e)/s),1023);let i=e/y(2,a);i<1&&(a-=1,i*=2),i>=2&&(a+=1,i/=2);const u=y(2,r);a+=n,(c=o(i*u)-u)/u>=1&&(a+=1,c=0),a>2*n&&(a=(1<<t)-1,c=0)}else a=0,c=o(e/y(2,1-n-r));const p=[];let d;for(d=r;d;d-=1)p.push(c%2?1:0),c=f(c/2);for(d=t;d;d-=1)p.push(a%2?1:0),a=f(a/2);p.push(i?1:0),p.reverse();let g=p.join("");const b=[];for(;g.length;)b.unshift(parseInt(g.substring(0,8),2)),g=g.substring(8);return b}function C(e,t,r){const n=[];let o,i,a,c,s,u,f,l;for(o=0;o<e.length;++o)for(a=e[o],i=8;i;i-=1)n.push(a%2?1:0),a>>=1;return n.reverse(),c=n.join(""),s=(1<<t-1)-1,u=parseInt(c.substring(0,1),2)?-1:1,f=parseInt(c.substring(1,1+t),2),l=parseInt(c.substring(1+t),2),f===(1<<t)-1?0!==l?NaN:u*(1/0):f>0?u*y(2,f-s)*(1+l/y(2,r)):0!==l?u*y(2,-(s-1))*(l/y(2,r)):u<0?-0:0}function U(e){return C(e,11,52)}function N(e){return x(e,11,52)}function R(e){return C(e,8,23)}function D(e){return x(e,8,23)}!function(){const e=Object.defineProperty,t=!function(){try{return Object.defineProperty({},"x",{})}catch(e){return!1}}();e&&!t||(Object.defineProperty=function(t,r,n){if(e)try{return e(t,r,n)}catch(e){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in n&&Object.prototype.__defineGetter__.call(t,r,n.get),Object.prototype.__defineSetter__&&"set"in n&&Object.prototype.__defineSetter__.call(t,r,n.set),"value"in n&&(t[r]=n.value),t})}(),function(){function s(e){if((e=a(e))<0)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"_bytes",{value:Array(e)});for(let t=0;t<e;t+=1)this._bytes[t]=0}function l(){if(!arguments.length||"object"!=typeof arguments[0])return function(e){if((e=a(e))<0)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:e}),Object.defineProperty(this,"byteLength",{value:e*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new s(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(arguments.length>=1&&"object"===r(arguments[0])&&arguments[0]instanceof l)return function(e){if(this.constructor!==e.constructor)throw TypeError();const t=e.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new s(t)}),Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:e.length});for(let t=0;t<this.length;t+=1)this._setter(t,e._getter(t))}.apply(this,arguments);if(arguments.length>=1&&"object"===r(arguments[0])&&!(arguments[0]instanceof l)&&!(arguments[0]instanceof s||"ArrayBuffer"===n(arguments[0])))return function(e){const t=e.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new s(t)}),Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:e.length});for(let t=0;t<this.length;t+=1){const r=e[t];this._setter(t,Number(r))}}.apply(this,arguments);if(arguments.length>=1&&"object"===r(arguments[0])&&(arguments[0]instanceof s||"ArrayBuffer"===n(arguments[0])))return function(e,t,r){if((t=c(t))>e.byteLength)throw RangeError("byteOffset out of range");if(t%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(void 0===r){var n=e.byteLength-t;if(n%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");r=n/this.BYTES_PER_ELEMENT}else n=(r=c(r))*this.BYTES_PER_ELEMENT;if(t+n>e.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:e}),Object.defineProperty(this,"byteLength",{value:n}),Object.defineProperty(this,"byteOffset",{value:t}),Object.defineProperty(this,"length",{value:r})}.apply(this,arguments);throw TypeError()}e.ArrayBuffer=e.ArrayBuffer||s,Object.defineProperty(l,"from",{value(e){return new this(e)}}),Object.defineProperty(l,"of",{value(){return new this(arguments)}});const y={};function d(r,n,o){var i=function(){Object.defineProperty(this,"constructor",{value:i}),l.apply(this,arguments),function(r){if("TYPED_ARRAY_POLYFILL_NO_ARRAY_ACCESSORS"in e)return;if(r.length>t)throw RangeError("Array too large for polyfill");function n(e){Object.defineProperty(r,e,{get:()=>r._getter(e),set(t){r._setter(e,t)},enumerable:!0,configurable:!1})}let o;for(o=0;o<r.length;o+=1)n(o)}(this)};"__proto__"in i?i.__proto__=l:(i.from=l.from,i.of=l.of),i.BYTES_PER_ELEMENT=r;const a=function(){};return a.prototype=y,i.prototype=new a,Object.defineProperty(i.prototype,"BYTES_PER_ELEMENT",{value:r}),Object.defineProperty(i.prototype,"_pack",{value:n}),Object.defineProperty(i.prototype,"_unpack",{value:o}),i}l.prototype=y,Object.defineProperty(l.prototype,"_getter",{value(e){if(arguments.length<1)throw SyntaxError("Not enough arguments");if((e=c(e))>=this.length)return;const t=[];let r,n;for(r=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)t.push(this.buffer._bytes[n]);return this._unpack(t)}}),Object.defineProperty(l.prototype,"get",{value:l.prototype._getter}),Object.defineProperty(l.prototype,"_setter",{value(e,t){if(arguments.length<2)throw SyntaxError("Not enough arguments");if((e=c(e))>=this.length)return;const r=this._pack(t);let n,o;for(n=0,o=this.byteOffset+e*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,o+=1)this.buffer._bytes[o]=r[n]}}),Object.defineProperty(l.prototype,"constructor",{value:l}),Object.defineProperty(l.prototype,"copyWithin",{value(e,t){const r=arguments[2],n=i(this);let o=c(n.length);o=p(o,0);const s=a(e);let u;u=s<0?p(o+s,0):h(s,o);const f=a(t);let l,y,d;l=f<0?p(o+f,0):h(f,o),d=(y=void 0===r?o:a(r))<0?p(o+y,0):h(y,o);let g,b=h(d-l,o-u);for(l<u&&u<l+b?(g=-1,l=l+b-1,u=u+b-1):g=1;b>0;)n._setter(u,n._getter(l)),l+=g,u+=g,b-=1;return n}}),Object.defineProperty(l.prototype,"every",{value(e){if(null==this)throw TypeError();const t=Object(this),r=c(t.length);if(!o(e))throw TypeError();const n=arguments[1];for(let o=0;o<r;o++)if(!e.call(n,t._getter(o),o,t))return!1;return!0}}),Object.defineProperty(l.prototype,"fill",{value(e){const t=arguments[1],r=arguments[2],n=i(this);let o=c(n.length);o=p(o,0);const s=a(t);let u,f,l;for(u=s<0?p(o+s,0):h(s,o),l=(f=void 0===r?o:a(r))<0?p(o+f,0):h(f,o);u<l;)n._setter(u,e),u+=1;return n}}),Object.defineProperty(l.prototype,"filter",{value(e){if(null==this)throw TypeError();const t=Object(this),r=c(t.length);if(!o(e))throw TypeError();const n=[],i=arguments[1];for(let o=0;o<r;o++){const r=t._getter(o);e.call(i,r,o,t)&&n.push(r)}return new this.constructor(n)}}),Object.defineProperty(l.prototype,"find",{value(e){const t=i(this),r=c(t.length);if(!o(e))throw TypeError();const n=arguments.length>1?arguments[1]:void 0;let a=0;for(;a<r;){const r=t._getter(a);if(e.call(n,r,a,t))return r;++a}}}),Object.defineProperty(l.prototype,"findIndex",{value(e){const t=i(this),r=c(t.length);if(!o(e))throw TypeError();const n=arguments.length>1?arguments[1]:void 0;let a=0;for(;a<r;){const r=t._getter(a);if(e.call(n,r,a,t))return a;++a}return-1}}),Object.defineProperty(l.prototype,"forEach",{value(e){if(null==this)throw TypeError();const t=Object(this),r=c(t.length);if(!o(e))throw TypeError();const n=arguments[1];for(let o=0;o<r;o++)e.call(n,t._getter(o),o,t)}}),Object.defineProperty(l.prototype,"indexOf",{value(e){if(null==this)throw TypeError();const t=Object(this),r=c(t.length);if(0===r)return-1;let n=0;if(arguments.length>0&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*f(u(n)))),n>=r)return-1;let o=n>=0?n:p(r-u(n),0);for(;o<r;o++)if(t._getter(o)===e)return o;return-1}}),Object.defineProperty(l.prototype,"join",{value(e){if(null==this)throw TypeError();const t=Object(this),r=c(t.length),n=Array(r);for(let e=0;e<r;++e)n[e]=t._getter(e);return n.join(void 0===e?",":e)}}),Object.defineProperty(l.prototype,"lastIndexOf",{value(e){if(null==this)throw TypeError();const t=Object(this),r=c(t.length);if(0===r)return-1;let n=r;arguments.length>1&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*f(u(n))));let o=n>=0?h(n,r-1):r-u(n);for(;o>=0;o--)if(t._getter(o)===e)return o;return-1}}),Object.defineProperty(l.prototype,"map",{value(e){if(null==this)throw TypeError();const t=Object(this),r=c(t.length);if(!o(e))throw TypeError();const n=[];n.length=r;const i=arguments[1];for(let o=0;o<r;o++)n[o]=e.call(i,t._getter(o),o,t);return new this.constructor(n)}}),Object.defineProperty(l.prototype,"reduce",{value(e){if(null==this)throw TypeError();const t=Object(this),r=c(t.length);if(!o(e))throw TypeError();if(0===r&&1===arguments.length)throw TypeError();let n,i=0;for(n=arguments.length>=2?arguments[1]:t._getter(i++);i<r;)n=e.call(void 0,n,t._getter(i),i,t),i++;return n}}),Object.defineProperty(l.prototype,"reduceRight",{value(e){if(null==this)throw TypeError();const t=Object(this),r=c(t.length);if(!o(e))throw TypeError();if(0===r&&1===arguments.length)throw TypeError();let n,i=r-1;for(n=arguments.length>=2?arguments[1]:t._getter(i--);i>=0;)n=e.call(void 0,n,t._getter(i),i,t),i--;return n}}),Object.defineProperty(l.prototype,"reverse",{value(){if(null==this)throw TypeError();const e=Object(this),t=c(e.length),r=f(t/2);for(let n=0,o=t-1;n<r;++n,--o){const t=e._getter(n);e._setter(n,e._getter(o)),e._setter(o,t)}return e}}),Object.defineProperty(l.prototype,"set",{value(e,t){if(arguments.length<1)throw SyntaxError("Not enough arguments");let r,n,o,i,a,s,u,f,l,p;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(r=arguments[0],(o=c(arguments[1]))+r.length>this.length)throw RangeError("Offset plus length of array is out of range");if(f=this.byteOffset+o*this.BYTES_PER_ELEMENT,l=r.length*this.BYTES_PER_ELEMENT,r.buffer===this.buffer){for(p=[],a=0,s=r.byteOffset;a<l;a+=1,s+=1)p[a]=r.buffer._bytes[s];for(a=0,u=f;a<l;a+=1,u+=1)this.buffer._bytes[u]=p[a]}else for(a=0,s=r.byteOffset,u=f;a<l;a+=1,s+=1,u+=1)this.buffer._bytes[u]=r.buffer._bytes[s]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw TypeError("Unexpected argument type(s)");if(i=c((n=arguments[0]).length),(o=c(arguments[1]))+i>this.length)throw RangeError("Offset plus length of array is out of range");for(a=0;a<i;a+=1)s=n[a],this._setter(o+a,Number(s))}}}),Object.defineProperty(l.prototype,"slice",{value(e,t){const r=i(this),n=c(r.length),o=a(e);let s=o<0?p(n+o,0):h(o,n);const u=void 0===t?n:a(t),f=u<0?p(n+u,0):h(u,n),l=f-s,y=new(0,r.constructor)(l);let d=0;for(;s<f;){const e=r._getter(s);y._setter(d,e),++s,++d}return y}}),Object.defineProperty(l.prototype,"some",{value(e){if(null==this)throw TypeError();const t=Object(this),r=c(t.length);if(!o(e))throw TypeError();const n=arguments[1];for(let o=0;o<r;o++)if(e.call(n,t._getter(o),o,t))return!0;return!1}}),Object.defineProperty(l.prototype,"sort",{value(e){if(null==this)throw TypeError();const t=Object(this),r=c(t.length),n=Array(r);for(var o=0;o<r;++o)n[o]=t._getter(o);for(n.sort(function(t,r){return t!=t&&r!=r?0:t!=t?1:r!=r?-1:void 0!==e?e(t,r):t<r?-1:t>r?1:0}),o=0;o<r;++o)t._setter(o,n[o]);return t}}),Object.defineProperty(l.prototype,"subarray",{value(e,t){function r(e,t,r){return e<t?t:e>r?r:e}e=a(e),t=a(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=r(e,0,this.length);let n=(t=r(t,0,this.length))-e;return n<0&&(n=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,n)}});const g=d(1,E,v),b=d(1,m,T),x=d(1,P,T),C=d(2,O,_),L=d(2,w,A),M=d(4,j,I),F=d(4,B,S),Y=d(4,D,R),V=d(8,N,U);e.Int8Array=e.Int8Array||g,e.Uint8Array=e.Uint8Array||b,e.Uint8ClampedArray=e.Uint8ClampedArray||x,e.Int16Array=e.Int16Array||C,e.Uint16Array=e.Uint16Array||L,e.Int32Array=e.Int32Array||M,e.Uint32Array=e.Uint32Array||F,e.Float32Array=e.Float32Array||Y,e.Float64Array=e.Float64Array||V}(),function(){function t(e,t){return o(e.get)?e.get(t):e[t]}const r=function(){const e=new Uint16Array([4660]);return 18===t(new Uint8Array(e.buffer),0)}();function i(e,t,r){if(!(e instanceof ArrayBuffer||"ArrayBuffer"===n(e)))throw TypeError();if((t=c(t))>e.byteLength)throw RangeError("byteOffset out of range");if(t+(r=void 0===r?e.byteLength-t:c(r))>e.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:e}),Object.defineProperty(this,"byteLength",{value:r}),Object.defineProperty(this,"byteOffset",{value:t})}function a(e){return function(n,o){if((n=c(n))+e.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");n+=this.byteOffset;const i=new Uint8Array(this.buffer,n,e.BYTES_PER_ELEMENT),a=[];for(let r=0;r<e.BYTES_PER_ELEMENT;r+=1)a.push(t(i,r));return Boolean(o)===Boolean(r)&&a.reverse(),t(new e(new Uint8Array(a).buffer),0)}}function s(e){return function(n,o,i){if((n=c(n))+e.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");const a=new e([o]),s=new Uint8Array(a.buffer),u=[];let f,l;for(f=0;f<e.BYTES_PER_ELEMENT;f+=1)u.push(t(s,f));Boolean(i)===Boolean(r)&&u.reverse(),(l=new Uint8Array(this.buffer,n,e.BYTES_PER_ELEMENT)).set(u)}}Object.defineProperty(i.prototype,"getUint8",{value:a(Uint8Array)}),Object.defineProperty(i.prototype,"getInt8",{value:a(Int8Array)}),Object.defineProperty(i.prototype,"getUint16",{value:a(Uint16Array)}),Object.defineProperty(i.prototype,"getInt16",{value:a(Int16Array)}),Object.defineProperty(i.prototype,"getUint32",{value:a(Uint32Array)}),Object.defineProperty(i.prototype,"getInt32",{value:a(Int32Array)}),Object.defineProperty(i.prototype,"getFloat32",{value:a(Float32Array)}),Object.defineProperty(i.prototype,"getFloat64",{value:a(Float64Array)}),Object.defineProperty(i.prototype,"setUint8",{value:s(Uint8Array)}),Object.defineProperty(i.prototype,"setInt8",{value:s(Int8Array)}),Object.defineProperty(i.prototype,"setUint16",{value:s(Uint16Array)}),Object.defineProperty(i.prototype,"setInt16",{value:s(Int16Array)}),Object.defineProperty(i.prototype,"setUint32",{value:s(Uint32Array)}),Object.defineProperty(i.prototype,"setInt32",{value:s(Int32Array)}),Object.defineProperty(i.prototype,"setFloat32",{value:s(Float32Array)}),Object.defineProperty(i.prototype,"setFloat64",{value:s(Float64Array)}),e.DataView=e.DataView||i}()}(this),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const r=Object(e);for(let e=1;e<arguments.length;e++){const t=arguments[e];if(null!=t)for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},writable:!0,configurable:!0}),Buffer.from=function(e,t){return fromHexString(e)},Buffer.alloc=function(e){return new Uint8Array(e)},Uint8Array.prototype.readUInt16BE=function(e){return new DataView(this.buffer).getUint16(e)},Uint8Array.prototype.readInt16BE=function(e){return new DataView(this.buffer).getInt16(e)},Uint8Array.prototype.readUInt8=function(e){return new DataView(this.buffer).getUint8(e)},Uint8Array.prototype.readUInt32BE=function(e){return new DataView(this.buffer).getUint32(e)},Uint8Array.prototype.writeUInt16BE=function(e,t){return new DataView(this.buffer).setUint16(t,e)},Uint8Array.prototype.writeUInt8=function(e,t){return new DataView(this.buffer).setUint8(t,e)},Uint8Array.prototype.writeUInt32BE=function(e,t){return new DataView(this.buffer).setUint32(t,e)};const __spreadArray=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};var codec;function base64tohex(e){return e.map(function(e){return`00${(255&e).toString(16)}`.slice(-2)}).join("")}function Decoder(e){const t=new codec.Decoder;return t.setDeviceType("analog"),t.decode(e)}!function(e){const t=function(){function t(t){this.parsers=[new e.AnalogStatusByteParser,new e.Analog0x10Parser,new e.Analog0x11Parser,new e.Analog0x12Parser,new e.Analog0x13Parser,new e.Analog0x14Parser,new e.Analog0x30Parser,new e.Analog0x42Parser],t&&t.codecStorage?this.codecStorage=t.codecStorage:"undefined"!=typeof localStorage?this.codecStorage=localStorage:this.codecStorage=new e.InternalCodecStorage}return t.prototype.getSupported=function(){const e=[];return this.parsers.map(function(t){return t.deviceType.split("|").map(function(r){return e.push({deviceType:r,frameCode:t.frameCode})})}),e},t.prototype.findDeviceTypes=function(e){if(!/^(?:[0-9a-f]{2}){2,}$/gi.test(e))return[];const t=Buffer.from(e,"hex")[0],r=this.parsers.filter(function(e){return e.frameCode===t}).map(function(e){return e.deviceType});return Array.from(new Set(r))},t.prototype.decode=function(e,t,r){if(void 0===t&&(t="tmpDevId"),void 0===r&&(r="unknown"),!/^(?:[0-9a-f]{2}){2,}$/gi.test(e))return{type:"Invalid"};const n=Buffer.from(e,"hex");let o=n[0];const i=this.fetchDeviceType(t);let a;"pulse4nbiot"===i&&(o=n[13]),16===o?(a=n,this.storeConfiguration(a,t)):a=this.fetchConfiguration(t);const c=this.getActiveParsers(i,o),s=c.map(function(e){let t;try{t=e.parseFrame(n,a,r,i)}catch(e){t={error:e.toString()}}return t});c.every(function(e){return e.frameCode<0})&&s.push({type:"Unsupported"});let u=Object.assign.apply(Object,__spreadArray([{}],s,!1));const f=u.type;return delete u.type,u={type:f,...u}},t.prototype.setDeviceType=function(e,t){void 0===t&&(t="tmpDevId"),this.codecStorage.setItem(`${t}.deviceType`,e)},t.prototype.clearStoredData=function(e){const t=this;e||(e="tmpDevId"),["deviceType","configuration"].map(function(t){return`${e}.${t}`}).forEach(function(e){return t.codecStorage.removeItem(e)})},t.prototype.fetchConfiguration=function(e){if(!e)return Buffer.from("");const t=this.codecStorage.getItem(`${e}.configuration`);return Buffer.from(t||"","hex")},t.prototype.storeConfiguration=function(e,t){return t?(this.codecStorage.setItem(`${t}.configuration`,e.toString("hex")),e):e},t.prototype.fetchDeviceType=function(e){return e&&this.codecStorage.getItem(`${e}.deviceType`)||""},t.prototype.storeDeviceType=function(e,t){let r="";if(!t)return r;const n=this.parsers.filter(function(t){return"any"!==t.deviceType&&t.frameCode===e});return 1===n.length&&(r=n[0].deviceType,this.codecStorage.setItem(`${t}.deviceType`,r)),r},t.prototype.isCompatibleDeviceType=function(e,t){return e.deviceType.split("|").filter(function(e){return e===t}).length>0},t.prototype.getActiveParsers=function(e,t){const r=this;let n=[],o=this.parsers.filter(function(n){return r.isCompatibleDeviceType(n,e)&&(n.frameCode<0||n.frameCode===t)});if(0===o.length&&"repeater"!==e){const e=this.parsers.filter(function(e){return"any"===e.deviceType&&(e.frameCode<0||e.frameCode===t)});o=n.concat(e)}if(o.length>0){const t=this.parsers.filter(function(t){return r.isCompatibleDeviceType(t,e)&&0===t.frameCode});if(n=n.concat(t),0===t.length){const e=this.parsers.filter(function(e){return"any"===e.deviceType&&0===e.frameCode});n=n.concat(e)}}return n=n.concat(o)},t}();e.Decoder=t}(codec||(codec={})),function(e){const t=function(){function t(){this.builders=[new e.Repeater0x01Builder,new e.Repeater0x02Builder,new e.Repeater0x03Builder,new e.Repeater0x04Builder,new e.Repeater0x05Builder]}return t.prototype.getSupported=function(){return this.builders.map(function(e){return{deviceType:e.deviceType,frameCode:e.frameCode}})},t.prototype.getInputDataTypes=function(e,t){const r=this.builders.find(function(r){return r.deviceType===e&&r.frameCode===t});if(!r)return{};const n={},o=new r.inputDataClass;for(const e in o)o.hasOwnProperty(e)&&(n[e]=typeof o[e]);return n},t.prototype.encode=function(e,t,r,n){void 0===r&&(r="unknown");const o=this.builders.find(function(r){return r.deviceType===e&&r.frameCode===t});return o?o.buildFrame(n||new o.inputDataClass,r).toString("hex"):""},t}();e.Encoder=t}(codec||(codec={})),"undefined"!=typeof module&&(module.exports=codec),"undefined"!=typeof process&&"test"===process.env.NODE_ENV&&(global.codec=codec),function(e){const t=function(){function e(){this.store={}}return e.prototype.getItem=function(e){return this.store[e]},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}();e.InternalCodecStorage=t}(codec||(codec={})),function(e){const t=function(){function t(){this.deviceType="analog",this.frameCode=16}return t.prototype.parseFrame=function(t,r,n){const o={type:"0x10 Analog configuration"},i={name:"channel A"},a={name:"channel B"};2===t[8]?(o.transmissionPeriodKeepAlive={unit:"s",value:20*t[2]},o.transmissionPeriodData={unit:"s",value:20*t[3]}):(o.transmissionPeriodKeepAlive={unit:"m",value:10*t[2]},o.transmissionPeriodData={unit:"m",value:10*t[3]});let c=this.getDebounceText(t[5]>>4);return i.id=(240&t[4])>>4,i.type=this.getSensorTypeText(15&t[4]),15&t[4]&&(i.threshold=this.getThresholdTriggeringText(3&t[5]),i.externalTrigger={type:this.getThresholdTriggeringText(t[5]>>2&3),debounceDuration:{unit:c[1],value:c[0]}}),c=this.getDebounceText(t[7]>>4),a.id=(240&t[6])>>4,a.type=this.getSensorTypeText(15&t[6]),15&t[6]&&(a.threshold=this.getThresholdTriggeringText(3&t[7]),a.externalTrigger={type:this.getThresholdTriggeringText(t[7]>>2&3),debounceDuration:{unit:c[1],value:c[0]}}),o.channels=[i,a],o.productMode=e.PlateformCommonUtils.getProductModeText(t[8]),o},t.prototype.getSensorTypeText=function(e){switch(e){case 0:return"deactivated";case 1:return"0-10V";case 2:return"4-20mA";default:return""}},t.prototype.getThresholdTriggeringText=function(e){switch(e){case 0:return"none";case 1:return"low";case 2:return"high";case 3:return"both";default:return""}},t.prototype.getDebounceText=function(e){switch(e){case 0:return[0,"s"];case 1:return[10,"ms"];case 2:return[20,"ms"];case 3:return[50,"ms"];case 4:return[100,"ms"];case 5:return[200,"ms"];case 6:return[500,"ms"];case 7:return[1,"s"];case 8:return[2,"s"];case 9:return[5,"s"];case 10:return[10,"s"];case 11:return[20,"s"];case 12:return[40,"s"];case 13:return[60,"s"];case 14:return[5,"m"];default:return[0,"s"]}},t}();e.Analog0x10Parser=t}(codec||(codec={})),function(e){const t=function(){function e(){this.deviceType="analog",this.frameCode=17}return e.prototype.parseFrame=function(e,t,r){const n={type:"0x11 Analog configuration"};return n.threshold={name:"channel A",unit:"µV or 10 nA",high:{value:16777215&e.readUInt32BE(1),hysteresis:16777215&e.readUInt32BE(4)}},n},e}();e.Analog0x11Parser=t}(codec||(codec={})),function(e){const t=function(){function e(){this.deviceType="analog",this.frameCode=18}return e.prototype.parseFrame=function(e,t,r){const n={type:"0x12 Analog configuration"};return n.threshold={name:"channel A",unit:"µV or 10 nA",low:{value:16777215&e.readUInt32BE(1),hysteresis:16777215&e.readUInt32BE(4)}},n},e}();e.Analog0x12Parser=t}(codec||(codec={})),function(e){const t=function(){function e(){this.deviceType="analog",this.frameCode=19}return e.prototype.parseFrame=function(e,t,r){const n={type:"0x13 Analog configuration"};return n.threshold={name:"channel B",unit:"µV or 10 nA",high:{value:16777215&e.readUInt32BE(1),hysteresis:16777215&e.readUInt32BE(4)}},n},e}();e.Analog0x13Parser=t}(codec||(codec={})),function(e){const t=function(){function e(){this.deviceType="analog",this.frameCode=20}return e.prototype.parseFrame=function(e,t,r){const n={type:"0x14 Analog configuration"};return n.threshold={name:"channel B",unit:"µV or 10 nA",low:{value:16777215&e.readUInt32BE(1),hysteresis:16777215&e.readUInt32BE(4)}},n},e}();e.Analog0x14Parser=t}(codec||(codec={})),function(e){const t=function(){function t(){this.deviceType="analog",this.frameCode=48,this.parser=new e.Analog0x42Parser}return t.prototype.parseFrame=function(e,t,r){const n=this.parser.parseFrame(e,t,r);return n.type="0x30 Analog keep alive",n},t}();e.Analog0x30Parser=t}(codec||(codec={})),function(e){const t=function(){function e(){this.deviceType="analog",this.frameCode=66}return e.prototype.parseFrame=function(e,t,r){const n={type:"0x42 Analog data"},o={name:"channel A"},i={name:"channel B"};let a=15&e[2],c=16777215&e.readUInt32BE(2);return 1===a?(o.unit="V",o.value=parseFloat((c/1e6).toFixed(3))):2===a?(o.unit="mA",o.value=parseFloat((c/1e5).toFixed(3))):o.state="deactivated",a=15&e[6],c=16777215&e.readUInt32BE(6),1===a?(i.unit="V",i.value=parseFloat((c/1e6).toFixed(3))):2===a?(i.unit="mA",i.value=parseFloat((c/1e5).toFixed(3))):i.state="deactivated",n.channels=[o,i],n},e}();e.Analog0x42Parser=t}(codec||(codec={})),function(e){const t=function(){function t(){this.deviceType="analog",this.frameCode=0}return t.prototype.parseFrame=function(t,r,n){let o={};return(o=(new e.GenericStatusByteParser).parseFrame(t,r)).alarmChannelA=Boolean(8&t[1]),o.alarmChannelB=Boolean(16&t[1]),{status:o}},t}();e.AnalogStatusByteParser=t}(codec||(codec={})),function(e){const t=function(){function e(){this.deviceType="any",this.frameCode=0}return e.prototype.parseFrame=function(e,t){const r={};return r.frameCounter=(224&e[1])>>5,r.hardwareError=!1,r.lowBattery=Boolean(2&e[1]),r.configurationDone=Boolean(1&e[1]),r},e}();e.GenericStatusByteParser=t}(codec||(codec={})),function(e){let t;!function(e){e[e.NONE=0]="NONE",e[e.MISSING_NETWORK=1]="MISSING_NETWORK",e[e.MISSING_CONFIGURATION=2]="MISSING_CONFIGURATION"}(t=e.PartialDecodingReason||(e.PartialDecodingReason={}))}(codec||(codec={})),function(e){const t=function(){function t(t){void 0===t&&(t="Unknown"),this.type=t,this.partialDecoding=e.PartialDecodingReason.NONE}return t.merge=function(){const e=[];for(let t=0;t<arguments.length;t++)e[t]=arguments[t];return e&&0!==e.length?Object.assign.apply(Object,__spreadArray([new t(e[0].type)],e,!1)):null},t.prototype.merge=function(){const e=[];for(let t=0;t<arguments.length;t++)e[t]=arguments[t];return t.merge.apply(t,__spreadArray([this],e,!1))},t}();e.ContentImpl=t}(codec||(codec={})),function(e){const t=function(){function e(){}return e.getProductModeText=function(e){switch(e){case 0:return"PARK";case 1:return"PRODUCTION";case 2:return"TEST";case 3:return"DEAD";default:return""}},e}();e.PlateformCommonUtils=t}(codec||(codec={})),function(e){let t;!function(e){e.analog="Analog",e.breath="Breath",e.comfort="Comfort",e.comfort2="Comfort 2",e.comfortCo2="Comfort CO2",e.drycontacts="Dry Contacts",e.drycontacts2="Dry Contacts 2",e.deltap="Delta P",e.motion="Motion",e.pulse="Pulse",e.pulse3="Pulse 3",e.pulse4="Pulse 4",e.pulse4nbiot="Pulse 4 NB-IoT",e.repeater="Repeater",e.temp="Temp",e.temp3="Temp 3",e.temp4="Temp 4",e.ticCbeLinkyMono="TIC CBE/LINKY MONO",e.ticCbeLinkyTri="TIC CBE/LINKY TRI",e.ticPmePmi="TIC PME-PMI"}(t=e.DecoderProducts||(e.DecoderProducts={}))}(codec||(codec={}));const fixVariable=e=>e.replace(/ /g,"_").toLowerCase();function inspectFormat(e,t,r){let n=[];for(const r in e)if(r!=="lng".toLowerCase()&&"longitude"!==r.toLowerCase())if(r==="lat".toLowerCase()||"latitude"===r.toLowerCase()){const o=e.lng||e.longitude||e.Longitude;n.push({variable:"location",value:`${e[r]}, ${o}`,location:{lat:Number(e[r]),lng:Number(o)},group:t})}else"object"==typeof e[r]?e[r].value?n.push({variable:fixVariable(r),value:e[r].value,location:e[r].location,group:t,unit:e[r].unit}):n=n.concat(inspectFormat(e[r],t,r)):n.push({variable:fixVariable(r),value:e[r],group:t});return n}const payload_raw=payload.find(e=>"payload_raw"===e.variable||"payload"===e.variable||"data"===e.variable);if(payload_raw)try{const e=String(Date.now()),t=Decoder(payload_raw.value);if(t.channels){for(const e of t.channels)t[e.name]=e;delete t.channels}const r=inspectFormat(t,e);payload=payload.concat(r.map(t=>({...t,group:e})))}catch(e){console.error(e),payload=[{variable:"parse_error",value:e.message}]}